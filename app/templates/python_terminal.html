<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Python Terminal</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/python.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
</head>
<body>

  <div class="nav-top">
    {% if user %}
      <span>ğŸ‘‹ Welcome, <strong id="username">{{ user }}</strong></span> |
      <a href="{{ url_for('index') }}">ğŸ  Home</a> |
      <a href="{{ url_for('r_terminal') }}">R</a> |
      <a href="{{ url_for('auth.logout') }}">ğŸšª Logout</a>
    {% endif %}
  </div>

  <div class="terminal">
    <h1>Learn Python With AI</h1>

    <div class="dual-column-container">

      <!-- AI Chat Column -->
      <div class="left-panel">
        <div id="chatBox" class="chat-box"></div>

        <div class="chat-input-wrapper">
          <textarea id="prompt" placeholder="Ask me anything..."></textarea>

          <select id="providerDropdown">
            <option value="openai" selected>OpenAI</option>
            <option value="groq">Groq</option>
          </select>

          <button id="voiceBtn">ğŸ™ï¸</button>
          <button id="sendBtn">â¤</button>
        </div>

        <h5 style="text-align: center;">AI may produce inaccurate info â€” verify important outputs.</h5>
      </div>

      <!-- Python Code Column -->
      <div class="right-panel">
        <textarea id="codePy" placeholder="Write Python code here..."></textarea>

        <div class="code-buttons">
          <button id="runPy">â–¶ï¸ Run</button>
          <button id="resetPy">ğŸ”„ Reset</button>
        </div>

        <select id="templateDropdown">
          <option disabled selected>Templates</option>
        </select>

        <pre><code class="output" id="outputPy"></code></pre>
      </div>

    </div>

    <div id="loadingMessage" style="color:#aaa; text-align:center; padding:10px;">
      â³ Loading Python packages...
    </div>
  </div>

  <script>hljs.highlightAll();</script>
  <script type="module" src="{{ url_for('static', filename='js/terminal/python_terminal.js') }}"></script>
</body>
</html>
